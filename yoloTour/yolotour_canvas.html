<!DOCTYPE html>
<html>
	<head>
		<title> Simple sun </title>
		<meta charset="utf-8">
		<style>
			body { margin: 0; overflow: hidden;}
			canvas { width: 100%; height: 100%; display: block;}
		</style>
	</head>
	<body>
		<script src="js/three.min.js"></script>

		<script src="js/TrackballControls.js"></script>
		<script src="js/Detector.js"></script>
		

		<div id="container"></div>
		
		<script>
			var container = document.getElementById( 'container' );




			renderer.setClearColorHex( 0xccccbb, 0.0 );

			scene = new THREE.Scene();
			scene.fog = new THREE.FogExp2( 0xB3EAFF, 0.015 );
			var camera = new THREE.PerspectiveCamera( 60, window.innerWidth/window.innerHeight, 0.1, 1000 );
			camera.position.z = 30;
			scene.add(camera);


			//var renderer = new THREE.WebGLRenderer({ alpha: true, antialiasing: true });
			renderer.setClearColorHex( 0xB3EAFF, 1.0 );
			renderer.setSize( window.innerWidth, window.innerHeight );
			document.body.appendChild( renderer.domElement );

			//Skapar en grupp som ska innehålla hela scengrafen
			sceneGraph = new THREE.Object3D;



			sunGroup =new THREE.Object3D;
			//***********************************
			var sunGeometry = new THREE.SphereGeometry( 5, 32, 32 );

			var sunMaterial = new THREE.MeshBasicMaterial({wireframe: false, color: 0xffffaa, overdraw:true});
			sunMaterial.map    = THREE.ImageUtils.loadTexture('textures/earth2.jpg');
			var sunSphere = new THREE.Mesh( sunGeometry, sunMaterial );

			sunGroup.add( sunSphere);
			scene.add(sunGroup);

			var loader = new THREE.JSONLoader();
			//************* JSON ***********************

			var yoloText =new THREE.Object3D;

			loader.load("obj/yolotour.js", 

				function(geometry) {

					object = new THREE.Mesh(geometry, new THREE.MeshLambertMaterial({overdraw:true}));
					object.rotation.z = -0.07;
					object.translateY(5.5);
					sceneGraph.add(object);

			});
			
			/*			
			galaxyGroup = new THREE.Object3D;
			//**********************************
			var galaxyGeometry = new THREE.SphereGeometry( 300, 32, 32 );
			var galaxyMaterial = new THREE.MeshPhongMaterial();

			//galaxyMaterial.map    = THREE.ImageUtils.loadTexture('textures/space.png');
			//galaxyMaterial.specular  = new THREE.Color('grey');
			galaxyMaterial.side = THREE.DoubleSide;

			var galaxySphere = new THREE.Mesh( galaxyGeometry, galaxyMaterial );

			galaxyGroup.add( galaxySphere);
			//**********************************/

			//sceneGraph.add(galaxyGroup);
			//Lägger till grupper till scengraf
			//galaxyGroup.add(sunGroup);


			//Lägger till scengraf till scen

			scene.add(sceneGraph);

			sceneGraph.rotation.x += 0.5;


			controls = new THREE.TrackballControls( camera );
			controls.zoomSpeed = 1;
			controls.panSpeed = 0;
			controls.rotateSpeed = 0.7;

			window.addEventListener( 'resize', onWindowResize, false );

			animate();

			function onWindowResize( e ) {
				containerWidth = container.clientWidth;
				containerHeight = container.clientHeight;
				renderer.setSize( containerWidth, containerHeight );
				camera.aspect = containerWidth / containerHeight;
				camera.updateProjectionMatrix();
			}

			function animate() {

				sunSphere.rotation.y += 0.001;
				requestAnimationFrame( animate );
				controls.update();
				renderer.render( scene, camera );
			}
		</script>
	</body>
</html>
